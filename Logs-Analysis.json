{"version":17,"variables":[{"key":"Loglevel","type":"query","visible":true,"input":"fetch logs, from:now() - 2h\n| summarize  count(), by:loglevel\n| sort `count()`, direction:\"descending\"\n| fields loglevel","multiple":true},{"key":"Hosts","type":"query","visible":true,"input":"fetch logs, from:now() - 2h\n| fieldsAdd hostname = lookup([\n  fetch dt.entity.host\t\n| fields id, entity.name\n], sourceField: dt.entity.host, lookupField: id)\n| fields hn=hostname[entity.name]\n| summarize  count(), by:hn\n| sort `count()`, direction:\"descending\"\n| fields hn","multiple":true},{"key":"Pattern","type":"text","visible":true}],"tiles":{"3":{"type":"data","title":"LogLevel Count","query":"fetch logs\n| filter in(loglevel,array($Loglevel)) and in(host.name,array($Hosts))\n| summarize count = count(), by:{bin(timestamp, 1m), loglevel}","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","leftYAxisSettings":{"scale":"linear","label":""},"legend":{"hidden":false,"position":"auto"},"colorPalette":"log-status","categoricalBarChartSettings":{"categoryAxis":["loglevel"],"categoryAxisLabel":"loglevel","valueAxis":["count"],"valueAxisLabel":"count","tooltipVariant":"single"},"fieldMapping":{"timestamp":"bin(timestamp, 1m)","leftAxisValues":["count"]},"circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"truncationMode":"middle","xAxisLabel":"bin(timestamp, 1m)","xAxisIsLabelVisible":false,"valueRepresentation":"absolute","hiddenLegendFields":["count"]},"singleValue":{"showLabel":true,"label":"count","autoscale":true,"recordField":"count","trend":{"trendType":"auto","isVisible":true}},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[],"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{"value":"count"},"displayedFields":["loglevel"],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"count","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["loglevel"]},"label":{"showLabel":false},"icon":{"showIcon":false,"icon":""},"valueBoundaries":{"min":"auto","max":"auto"},"tableSettings":{"lineWrapIds":[],"firstVisibleRowIndex":0}},"visualization":"lineChart","querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":5,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{}},"4":{"type":"data","title":"","query":"fetch logs, from:now() - 2h\n| summarize countIf(loglevel == \"SEVERE\")","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"truncationMode":"middle","categoricalBarChartSettings":{"categoryAxis":["countIf(loglevel == \"SEVERE\")"],"categoryAxisLabel":"countIf(loglevel == \"SEVERE\")","valueAxis":["countIf(loglevel == \"SEVERE\")"],"valueAxisLabel":"countIf(loglevel == \"SEVERE\")","tooltipVariant":"single"}},"singleValue":{"showLabel":true,"label":"countIf(loglevel == \"SEVERE\")","autoscale":true,"recordField":"countIf(loglevel == \"SEVERE\")","trend":{"trendType":"auto","isVisible":true}},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[],"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{},"displayedFields":[],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"countIf(loglevel == \"SEVERE\")","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"label":{"showLabel":false},"icon":{"showIcon":false,"icon":""},"valueBoundaries":{"min":"auto","max":"auto"},"tableSettings":{"lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"suffix":"üíäSEVERE","showLabel":false,"recordField":"countIf(loglevel == \"SEVERE\")","autoscale":true}},"visualization":"singleValue","querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{}},"5":{"type":"data","title":"","query":"fetch logs, from:now() - 2h\n| summarize countIf(loglevel == \"DEBUG\")","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"truncationMode":"middle","categoricalBarChartSettings":{"categoryAxis":["countIf(loglevel == \"DEBUG\")"],"categoryAxisLabel":"countIf(loglevel == \"DEBUG\")","valueAxis":["countIf(loglevel == \"DEBUG\")"],"valueAxisLabel":"countIf(loglevel == \"DEBUG\")","tooltipVariant":"single"}},"singleValue":{"showLabel":true,"label":"countIf(loglevel == \"DEBUG\")","autoscale":true,"recordField":"countIf(loglevel == \"DEBUG\")","trend":{"trendType":"auto","isVisible":true}},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[],"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{},"displayedFields":[],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"countIf(loglevel == \"DEBUG\")","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"label":{"showLabel":false},"icon":{"showIcon":false,"icon":""},"valueBoundaries":{"min":"auto","max":"auto"},"tableSettings":{"lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"suffix":"üë©‚ÄçüíªDEBUG","showLabel":true,"recordField":"countIf(loglevel == \"DEBUG\")","autoscale":true}},"visualization":"singleValue","querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{}},"6":{"type":"data","title":"","query":"fetch logs, from:now() - 2h\n| summarize countIf(loglevel == \"NONE\")","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"truncationMode":"middle","categoricalBarChartSettings":{"categoryAxis":["countIf(loglevel == \"NONE\")"],"categoryAxisLabel":"countIf(loglevel == \"NONE\")","valueAxis":["countIf(loglevel == \"NONE\")"],"valueAxisLabel":"countIf(loglevel == \"NONE\")","tooltipVariant":"single"}},"singleValue":{"showLabel":true,"label":"countIf(loglevel == \"NONE\")","autoscale":true,"recordField":"countIf(loglevel == \"NONE\")","trend":{"trendType":"auto","isVisible":true}},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[],"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{},"displayedFields":[],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"countIf(loglevel == \"NONE\")","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"label":{"showLabel":false},"icon":{"showIcon":false,"icon":""},"valueBoundaries":{"min":"auto","max":"auto"},"tableSettings":{"lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"suffix":"ü´ôNONE","showLabel":false,"recordField":"countIf(loglevel == \"NONE\")","autoscale":true}},"visualization":"singleValue","querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{}},"7":{"type":"data","title":"","query":"fetch logs, from:now() - 2h\n| summarize countIf(loglevel == \"ERROR\")","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"truncationMode":"middle","categoricalBarChartSettings":{"categoryAxis":["countIf(loglevel == \"ERROR\")"],"categoryAxisLabel":"countIf(loglevel == \"ERROR\")","valueAxis":["countIf(loglevel == \"ERROR\")"],"valueAxisLabel":"countIf(loglevel == \"ERROR\")","tooltipVariant":"single"}},"singleValue":{"showLabel":true,"label":"countIf(loglevel == \"ERROR\")","autoscale":true,"recordField":"countIf(loglevel == \"ERROR\")","trend":{"trendType":"auto","isVisible":true}},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[],"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{},"displayedFields":[],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"countIf(loglevel == \"ERROR\")","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"label":{"showLabel":false},"icon":{"showIcon":false,"icon":""},"valueBoundaries":{"min":"auto","max":"auto"},"tableSettings":{"lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"suffix":"‚õîÔ∏èERROR","showLabel":false,"recordField":"countIf(loglevel == \"ERROR\")","autoscale":true}},"visualization":"singleValue","querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{}},"8":{"type":"data","title":"","query":"fetch logs, from:now() - 2h\n| summarize countIf(loglevel == \"ALERT\")","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"truncationMode":"middle","categoricalBarChartSettings":{"categoryAxis":["countIf(loglevel == \"ALERT\")"],"categoryAxisLabel":"countIf(loglevel == \"ALERT\")","valueAxis":["countIf(loglevel == \"ALERT\")"],"valueAxisLabel":"countIf(loglevel == \"ALERT\")","tooltipVariant":"single"}},"singleValue":{"showLabel":true,"label":"countIf(loglevel == \"ALERT\")","autoscale":true,"recordField":"countIf(loglevel == \"ALERT\")","trend":{"trendType":"auto","isVisible":true}},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[],"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{},"displayedFields":[],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"countIf(loglevel == \"ALERT\")","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"label":{"showLabel":false},"icon":{"showIcon":false,"icon":""},"valueBoundaries":{"min":"auto","max":"auto"},"tableSettings":{"lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"suffix":"‚ö†Ô∏è ALERT","showLabel":false,"recordField":"countIf(loglevel == \"ALERT\")","autoscale":true}},"visualization":"singleValue","querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{}},"9":{"type":"data","title":"","query":"fetch logs, from:now() - 2h\n| summarize countIf(loglevel == \"WARN\")","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"truncationMode":"middle","categoricalBarChartSettings":{"categoryAxis":["countIf(loglevel == \"WARN\")"],"categoryAxisLabel":"countIf(loglevel == \"WARN\")","valueAxis":["countIf(loglevel == \"WARN\")"],"valueAxisLabel":"countIf(loglevel == \"WARN\")","tooltipVariant":"single"}},"singleValue":{"showLabel":true,"label":"countIf(loglevel == \"WARN\")","autoscale":true,"recordField":"countIf(loglevel == \"WARN\")","trend":{"trendType":"auto","isVisible":true}},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[],"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{},"displayedFields":[],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"countIf(loglevel == \"WARN\")","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"label":{"showLabel":false},"icon":{"showIcon":false,"icon":""},"valueBoundaries":{"min":"auto","max":"auto"},"tableSettings":{"lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"suffix":"üö®WARN","showLabel":false,"recordField":"countIf(loglevel == \"WARN\")","autoscale":true}},"visualization":"singleValue","querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{}},"10":{"title":"","type":"markdown","content":" ### üìÑ Log lines"},"11":{"type":"data","title":"","query":"fetch logs\n| filter in(host.name,array($Hosts)) and contains(content, $Pattern)\n| limit 1000","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"truncationMode":"middle","categoricalBarChartSettings":{"categoryAxis":["content","dt.entity.host","dt.entity.process_group","dt.entity.process_group_instance","dt.process.name","dt.source_entity","event.type","host.name","log.source","loglevel","status","dt.process_group.detected_name"],"categoryAxisLabel":"content,dt.entity.host,dt.entity.process_group,dt.entity.process_group_instance,dt.process.name,dt.source_entity,event.type,host.name,log.source,loglevel,status,dt.process_group.detected_name","valueAxis":[],"valueAxisLabel":"","tooltipVariant":"single"}},"singleValue":{"showLabel":true,"label":"timestamp","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"timestamp","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{},"columnTypeOverrides":[{"fields":["content"],"id":1739974050456,"value":"log-content"}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{"value":"content"},"displayedFields":["content","dt.entity.host","dt.entity.process_group","dt.entity.process_group_instance","dt.process.name","dt.source_entity","event.type","host.name","log.source","loglevel","status","dt.process_group.detected_name"],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[],"variant":"single","truncationMode":"middle","displayedFields":["content","dt.entity.host","dt.entity.process_group","dt.entity.process_group_instance","dt.process.name","dt.source_entity","event.type","host.name","log.source","loglevel","status","dt.process_group.detected_name"]},"label":{"showLabel":false},"icon":{"showIcon":false,"icon":""},"valueBoundaries":{"min":"auto","max":"auto"},"tableSettings":{"lineWrapIds":[["content"],["log.source"],["content"],["log.source"],["content"],["log.source"]],"firstVisibleRowIndex":0,"hiddenColumns":[["dataPond"],["rollupType"],["tenant"],["recordType"],["dt.entity.process_group"],["dt.entity.process_group_instance"],["dt.source_entity"],["host.name"]],"displayMode":"edit"}},"visualization":"table","querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":5,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{}},"12":{"type":"markdown","title":"","content":"### Logs Ingestion"}},"layouts":{"3":{"x":0,"y":0,"w":15,"h":5},"4":{"x":18,"y":1,"w":3,"h":2},"5":{"x":15,"y":1,"w":3,"h":2},"6":{"x":18,"y":3,"w":3,"h":2},"7":{"x":21,"y":1,"w":3,"h":2},"8":{"x":21,"y":3,"w":3,"h":2},"9":{"x":15,"y":3,"w":3,"h":2},"10":{"x":0,"y":5,"w":24,"h":1},"11":{"x":0,"y":6,"w":24,"h":11},"12":{"x":15,"y":0,"w":9,"h":1}},"settings":{}}
